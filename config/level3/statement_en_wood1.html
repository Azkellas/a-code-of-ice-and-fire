<div id="statement_back" class="statement_back" style="display:none"></div>
<div class="statement-body">
  <!-- LEAGUE ALERT -->
      <div style="color: #7cc576;
      background-color: rgba(124, 197, 118,.1);
      padding: 20px;
      margin-right: 15px;
      margin-left: 15px;
      margin-bottom: 10px;
      text-align: left;">
          <div style="text-align: center; margin-bottom: 6px">
              <img src="//cdn.codingame.com/smash-the-code/statement/league_wood_04.png"/>
          </div>

          <p style="text-align: center; font-weight: 700; margin-bottom: 6px;">
              Summary of new rules
          </p>
          <span class="statement-league-alert-content">
              You are now able to <action>BUILD MINE</action> to generate more income. They can be built only on mine spots.<br />
              See the updated statement for details.
        </span>
      </div>


  <!-- GOAL -->
  <div class="statement-section statement-goal">
    <h1>
      <span class="icon icon-goal">&nbsp;</span>
      <span>The Goal</span>
    </h1>
    <div class="statement-goal-content">
      Each player control a faction, starting from an edge of a grid-map.<br/>
      Build armies to defeat your opponent by destroying their headquarters.<br/>

      <br/>
    </div>
  </div>

  <!-- RULES -->
  <div class="statement-section statement-rules">
    <h1>
      <span class="icon icon-rules">&nbsp;</span>
      <span>Rules</span>
    </h1>
    <div>
      <div class="statement-rules-content">
          <!-- marquer qu'income arrive au dÃ©but du tour -->

          <p><strong>The map</strong></p>
          <p>
          <p>The map is a grid of size 12x12, where the top-left corner is the case <const>(0,0)</const>. The map is randomly generated at the start of each game.</p>
          <p>
            A map cell can be either
            <ul>
              <li> void: it is not a playable cell (like a hole or a wall).</li>
              <li> neutral: the cell belongs to no player and is colored in grey.</li>
              <li> captured: the cell belongs to a player and is of the color of the owner.<img src="../assets/tuile_red02.png"/> <img src="../assets/tuile_blue02.png"/></li>
              <li> inactive: the cell used to belong to a player but is not connected to this player's territory (see next section). <img src="../assets/tuile_red01.png"/> <img src="../assets/tuile_blue01.png"/></li>
            </ul>
          </p>



          <p><strong>Territory ownership</strong></p>
          <p>
              Along the game, each player will capture cells to enlarge their territory. A player territory is composed of all the cells owned by the player that are <strong>active</strong>. A cell is said to be <strong>active</strong> if and only if the cell is connected to the headquarters. That is, there exists a path from the headquarters to this cell.
          </p>
          <figure style="margin-left:auto; margin-right:auto; width:350px;">
              <img src="https://i.imgur.com/LMAw3OG.png" alt="territory-ownership" style="margin-left:auto; margin-right:auto; width:350px;" /><br/>
              <figcaption>Red's territory is composed of 6 cells. The 3 red-dark are cells they used to control but Blue player interrupted part of this territory. They are thus inactive. By capturing for example the cell marked by an X, Red can make these cells active again.</figcaption>
          </figure>


          <br/>
          <p><strong>Buildings</strong></p>

          <p>
            Players can <action>BUILD</action> buildings to have more economic or defensive power. A player can only build on owned active and empty cells.<br/>
          </p>
          <p>
              There is, in this league, only 1 building that can be built:
              <ul>
                <li><img src="../assets/mine_neutre.png"/><action>MINE</action>: mines product gold each turn and are the main source of income. A mine costs (20 + 4*<var>nbMines</var>) to build. So the first costs 20, the second one 24, and so on and so forth. Mines income is always <const>+4</const>. Mines can only be built on neutral mines: these are specific locations in the map. The cell containing a neutral mine must be first controlled before a <action>MINE</action> can be built on it.</li>
              </ul>
              Another building is the <img src="../assets/forteresse_red.png"/> <strong>headquarters</strong>. A player has to protect their own headquarters while trying to destroy opponent's one. Losing their headquarters results to a lost game.<br/>



              If a building is on an unactive (i.e. not active) cell, it is kept there. A <action>MINE</action> that is on an unactive cell will not provide income.
              <br/>
          </p>

          <br/>
          <p><strong>Income</strong></p>
          <p>
              At the beginning of each turn, a player gain or lose gold based on their income. A player has <const>+1</const> income for each <strong>active</strong> cell owned and <const>+4</const> income for each mine in possession.<br/>

              Players will have to build units to capture opponent's headquarters. These units cost income (upkeep).
              <ul>
                  <li>Level <const>1</const> units reduce income by <const>1</const>.</li>
                  <li>Level <const>2</const> units reduce income by <const>4</const>.</li>
                  <li>Level <const>3</const> units reduce income by <const>20</const>.</li>
              </ul>
              If a player cannot pay their upkeep, all player's units die and the player has <const>0</const> gold for this turn.
          </p>

          <br/>
          <p><strong>Armies</strong></p>
          <p>
              To destroy opponent's headquarters, a player has to train armies. Armies are used to capture cells and destroy opponent's buildings and units. <br/>

              There are <const>3</const> levels of units and the higher the level, the stronger the unit is. When a player unit walks on a cell not owned by this player, the cell is <strong>captured</strong>. Also, when a player unit walks on a cell where another enemy unit is, the enemy unit is instantly killed (without harm to the player unit).
              <ul>
                <li>Level <const>1</const> units can only move on empty cells, opponent mines or opponent headquarters.</li>
                <li>Level <const>2</const> units, in addition, can kill level <const>1</const> units</li>
                <li>Level <const>3</const> units, besides, can kill any units or buildings.</li>
            </ul>

            If an unit is on an unactive (i.e. not active) cell at the beginning of a turn, the unit is instantly killed.

            Here is a table summary for each units, including their recruitment cost and their impact on income (upkeep):

            <table style="text-align:center; width: 100%; border-spacing: 10px; border-collapse: separate;">
                <tr>
                    <th>Level</th>
                    <td>1</td>
                    <td>2</td>
                    <td>3</td>
                </tr>
                <tr>
                    <th>Recruitment cost</th>
                    <td>10</td>
                    <td>20</td>
                    <td>30</td>
                </tr>
                <tr>
                    <th>Upkeep</th>
                    <td>1</td>
                    <td>4</td>
                    <td>20</td>
                </tr>
                <tr>
                    <th>Can kill units level</th>
                    <td>-</td>
                    <td>1</td>
                    <td>1, 2, 3</td>
                </tr>
                <tr>
                    <th>Can destroy</th>
                    <td>Mines<br/>Headquarters</td>
                    <td>Mines<br/>Headquarters</td>
                    <td>Mines<br/>Headquarters</td>
                </tr>
            </table>



            <ul>
                <li>Each unit can be moved once each turn. Units move only <const>1</const> cell away from their current position, using the command <action>MOVE id x y</action>.
                <ul>
                    <li>The target cell must be free or capturable.</li>
                    <li>If the distance between the unit and the target coordinates x and y is greater than 1, pathfinding is done to get the unit closer.</li>
                </ul>
                <li>Players can train armies using the <action>TRAIN level x y</action> action. They can be only trained on cells in player's territory or its direct neighbourhood (border). Armies training follows the same rules as moving: no training can be done on a cell occupied by a friendly unit/building, and the unit must be powerful enough to be trained on a cell occupied by an enemy.</li>
                <li>All actions are processed sequentially and the game state is recomputed after each one: an action not possible at the beginning of the turn might be done later in the same turn.</li>
                <figure style="margin-left:auto; margin-right:auto; width:500px;">
                  <img src="https://i.imgur.com/6guSobH.png" alt="action-sequence-diagram" style="margin-left:auto; margin-right:auto; width:550px;" /><br/>
              </figure>

            </ul>
            <br/>
          </p>


      </div>

        <!-- Victory conditions -->
        <div class="statement-victory-conditions">
            <div class="icon victory"></div>
            <div class="blk">
                <div class="title">Victory Conditions</div>
                <div class="text">
                    <ul style="padding-bottom: 0;">
                        <li>Capture the enemy headquarters.</li>
                        <li>After <const>100</const> turns, you have more military power than your opponent, where the military power is computed by the sum of cost of all units you have + the amount of gold you have.</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Lose conditions -->
        <div class="statement-lose-conditions">
            <div class="icon lose"></div>
            <div class="blk">
                <div class="title">Lose Conditions</div>
                <div class="text">
                    <ul style="padding-bottom: 0;">
                        <li>Output an invalid command.</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
  </div>


  <!-- PROTOCOL -->
  <div class="statement-section statement-protocol">
    <h1>
      <span class="icon icon-protocol">&nbsp;</span>
      <span>Game Input</span>
    </h1>
    <!-- Protocol block -->
    <div class="blk">
      <div class="title">Input</div>
      <div class="title">Initialization input</div>
      <div class="text">
        <p><span class="statement-lineno">Line 1: </span>Two ints <var>width</var> and <var>height</var>, the dimensions of the map</p>
        <p><span class="statement-lineno">Line 2: </span>One int <var>numberMineSpots</var>: the number of mine spots on the map.</p>
        <p><span class="statement-lineno">Next <var>numberMineSpots</var> lines:</span> 2 ints
            <ul>
              <li><var>x</var> and <var>y</var>: coordinates of the mine spot.</li>
            </ul>
      </div>

      <div class="title">Game turn input</div>
      <div class="text">
        <p><span class="statement-lineno">Line 1:</span><var>gold</var>: an int being the amount of gold the player has.</p>
        <p><span class="statement-lineno">Line 2:</span><var>income</var>: an int being the income the player has.</p>
        <p><span class="statement-lineno">Line 3:</span><var>opponentGold</var>: an int being the amount of gold the opponent player has.</p>
        <p><span class="statement-lineno">Line 4:</span><var>opponentIncome</var>: an int being the amount of gold the opponent player has.</p>

        <p><span class="statement-lineno">Next <var>height</var> lines:</span>
            <ul>
                <li> <var>width</var> characters, the <var>owner</var> of the cell:
                  <ul>
                    <li><const>#</const>: void</li>
                    <li><const>.</const>: neutral</li>
                    <li><const>O</const>: own and active cell</li>
                    <li><const>o</const>: own and inactive</li>
                    <li><const>X</const>: active opponent cell</li>
                    <li><const>x</const>: inactive opponent cell</li>
                  </ul>
            </ul>
        </p>
        <p><span class="statement-lineno">Next line:</span> <var>buildingCount</var>: the amount of buildings on the map.</p>
        <p><span class="statement-lineno">Next <var>buildingCount</var> lines:</span> 4 ints
            <ul>
                <li><var>owner</var>
                    <ul>
                        <li><const>0</const>: Owned</li>
                        <li><const>1</const>: Enemy</li>
                    </ul>
                </li>
                <li><var>buildingType</var>: the type of building
                  <ul>
                    <li><const>0</const>: HQ</li>
                    <li><const>1</const>: Mine</li>
                    <li><const>2</const>: Tower</li>
                  </ul>
                </li>
                <li><var>x</var> and <var>y</var>: building's cell coordinates.
            </ul>
        </p>
        <p><span class="statement-lineno">Next line:</span><var>unitCount</var>: the amount of units on the map.</p>
        <p><span class="statement-lineno">Next <var>unitCount</var> lines:</span> 5 ints
            <ul>
              <li><var>owner</var>
                  <ul>
                      <li><const>0</const>: Owned</li>
                      <li><const>1</const>: Enemy</li>
                  </ul>
              </li>
              <li><var>unitId</var></li>
              <li><var>level</var>: <const>1</const>, <const>2</const> or <const>3</const>.</li>
              <li><var>x</var> and <var>y</var>: unit's cell coordinates.</li>
            </ul>
        </p>
      </div>
    </div>

    <!-- Protocol block -->
    <div class="blk">
      <div class="title">Output</div>
      <div class="text">
        <span class="statement-lineno">A single line being a combination of these commands separated by <action>;</action></span>
        <ul>
            <li><action>MOVE id x y</action></li>
            <li><action>TRAIN level x y</action></li>
            <li><action>BUILD {building-type} x y</action> where the building type can only be <action>MINE</action> in this league.</li>
            <li><action>WAIT</action></li>

        </ul>
        <span class="statement-lineno">Example</span>: "MOVE 1 2 3; TRAIN 3 3 3; BUILD MINE 0 1"<br>
        <br>
      </div>
    </div>
    <!-- Protocol block -->
    <div class="blk">
      <div class="title">Constraints</div>
        Allotted response time to output is â¤ <const>50ms</const>.</div>
    </div>
  </div>

</div>
